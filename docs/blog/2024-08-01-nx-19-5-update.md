---
title: 'Nx 19.5 Adds StackBlitz, New Features, And More!!'
slug: 'nx-19-5-adds-stackblitz-new-features-and-more'
authors: ['Zack DeRose']
cover_image: '/blog/images/2024-08-01/nx-19-5-thumbnail.png'
tags: [nx, release]
---

## Table of Contents

In this blog post:

- [Announcing Nx Cloud Hobby Tier](#announcing-nx-cloud-hobby-tier)
- [StackBlitz Support](#stackblitz-support)
- [Bun and Pnpm v9 Support](#bun-and-pnpm-v9-support)
- [Local Flaky Task Detection](#local-flaky-task-detection)
- [Project Detail View Enhancements](#project-detail-view-enhancements)
- [Pattern Support for `targetDefaults`](#pattern-support-for-targetdefaults)
- [Individual Targets Can Now Opt Out of Parallelism](#individual-targets-can-now-opt-out-of-parallelism)
- [Support For Incremental Builds For Vite](#support-for-incremental-builds-for-vite)
- [Project Crystal Conversion Generators](#project-crystal-conversion-generators)
- [Gradle Composite Builds Support](#gradle-composite-builds-support)
- [Experimental: Gradle Test Atomization](#experimental-gradle-test-atomization)
- [Experimental: Nx Release Adds Version Plans Support](#experimental-nx-release-adds-version-plans-support)
- [Support for React 19 (rc) and Angular 18.1](#support-for-react-19-rc-and-angular-181)
- [Automatically Update Nx](#automatically-update-nx)
- [Monorepo World Conference Speakers Announced!!](#monorepo-world-conference-speakers-announced)

## Announcing Nx Cloud Hobby Tier

Our new expanded Hobby Tier now adds trial support for all features AND includes credits to run Nx Agents.

Sample the entire suite of features to see its impact on your organization. Start with everything, scale when you need more.

[![Nx Cloud Tiers](/blog/images/2024-08-01/start-with-everything-scale-when-you-need.jpg)](/pricing#plan-details)

Checkout the [plan details page](/pricing#plan-details) for more info, and see how Nx Cloud can help you! And in case you missed it, check out our latest blog on the latest Nx Cloud feature: [Explain with AI](/blog/explain-with-ai)!

## StackBlitz Support

Nx now has support for Stackblitz. This means that you can create a StackBlitz with a whole Nx Workspace inside of it and run all Nx capabilities from their embedded terminal.

[![Nx Workspace in Stackblitz](/blog/images/2024-08-01/react-app-in-stackblitz.jpg)](https://stackblitz.com/edit/stackblitz-webcontainer-api-starter-cwruaw?file=apps%2Freact-app%2Fsrc%2Fapp%2Fapp.tsx)

[Check out the example](https://stackblitz.com/edit/stackblitz-webcontainer-api-starter-cwruaw?file=apps%2Freact-app%2Fsrc%2Fapp%2Fapp.tsx) above - you can use the standard command in the terminal:

```shell
> nx serve react-app
```

to develop your application inside of the stackblitz.

We're excited for this as it opens up many interesting use-cases, including easier ways of sharing examples, better opportunities for reproduction of issues or bugs, and potential for us to use embedded examples in our documentation in the future.

Web Assembly (or WASM) is the underlying technology being used here, so in addition to stackblitz any other tools built on a node context should now work as well.

Sending a special shout out to community contributor [LongYinan](https://github.com/Brooooooklyn) for [their work to help support this effort](https://github.com/nrwl/nx/pull/22870)!

## Bun and Pnpm v9 Support

We've been monitoring Bun for awhile both as a runtime and as a package manager, and we've decided to take the first step in bun support now by supporting [Bun as a package manager](https://bun.sh/docs/cli/install)! This means that you can now use bun like you would use npm, pnpm, or yarn to install and manage your dependencies, and Nx will be able to correctly determine understand those dependencies as `externalNodes` in the Nx dependency graph.

Sending a big thank you to community contributor [Jordan Hall](https://github.com/Jordan-Hall) for completing [this work](https://github.com/nrwl/nx/pull/22602).

In addition to supporting Bun, Nx now understands the latest format of [`pnpm`](https://pnpm.io/) lockfiles which was introduced in version 9.

## Local Flaky Task Detection

Nx Cloud has been able to detect flaky tests for awhile now, but we've now included this ability for users when running Nx commands locally:

![Local Flaky Task Warning](/blog/images/2024-08-01/flaky-task.jpg)

Nx will now warn users locally when it detects a flaky task. Nx is able to tell since we'll track the results of your tasks compared to your source code and external dependencies. If the same code ever creates a different result, we'll know the task is flaky and that's when you'll see the warning.

Allowing developers to identify flaky tasks in the local environment gives you the ability to stamp out the flakiness earlier in the development cycle - before it ever reaches your CI pipelines!

## Project Detail View Enhancements

We've added several enhancements to the project detail view - whichis available both in the [Nx Console IDE plugin]() or via a browser by running the command:

```shell
nx show project [projectName]
```

For one, we've added more instructions on how to discover options for the underlying tools, and included examples on how to adjust these options via your `project.json` file.

![Project Detail View Vite Serve](/blog/images/2024-08-01/project-detail-view-vite-serve.jpg)

In addition, we've added a callout for tasks that leverage the `Nx Atomizer`. Since atomizer tasks are designed to be used with [Nx Agents](/ci/features/distribute-task-execution#distribute-task-execution-nx-agents), this callout will appear in yellow to warn if your project is not yet connected to Nx Cloud, and you can click on this callout for an easy way to connect your workspace to Nx Cloud:

![Atomizer Warning](/blog/images/2024-08-01/atomizer-warning.jpg)

Clicking on this button will take you to the Nx Cloud dashboard, where you'll be able to connect your workspace to Nx Cloud. This will generate a PR that you can merge into your repo, connecting your repo with Nx Cloud.

![Connect Your Repo](/blog/images/2024-08-01/connect-a-repo.jpg)

After connecting to Nx Cloud, we'll also provide a message for you if [Nx Agents](/ci/features/distribute-task-execution#distribute-task-execution-nx-agents) are not turned on for your project yet. Note that our new [hobby tier for Nx Cloud](#new-nx-cloud-hobby-tier) includes free trial credits for Nx Agents so any Nx workspace can benefit from this enhancement!

## Pattern Support for `targetDefaults`

When using the Atomizer features of plugins like [`@nx/playwright`](/nx-api/playwright) and [`@nx/cypress`](/nx-api/cypress), you end up creating tasks with dynamic but predictable names.

![Tasks Created With Atomizer](/blog/images/2024-08-01/e2e-task-names.jpg)

Notice how the `e2e-ci--src/example.spec.ts` and `e2e-ci--src/test.spec.ts` tasks here are created by the `@nx/playwright` plugin based on the playwright spec files present in your workspace.

We've now added pattern matching to `targetDefaults` task names as a way to target these dynamic tasks.

In the past it was difficult to customize this dynamic set of targets. But with the new support for specifying a pattern to a target name, you can now customize this set of dynamic targets all at once.

The following will set all such tasks to depend on their `build` task:

```json
{
  "targetDefaults": {
    "e2e-ci--**/*": {
      "dependsOn": ["build"]
    }
  }
}
```

Note that our plugins will set sensible configurations here out of the box when creating new workspaces using our generators.

Read more about [reducing configuration with `targetDefaults`](/recipes/running-tasks/reduce-repetitive-configuration#reduce-configuration-with-targetdefaults) and [how you can define task pipelines with `targetDefaults`](/features/run-tasks#defining-a-task-pipeline).

## Individual Targets Can Now Opt Out of Parallelism

One of our goals in changing the landscape of CI is to make CI more declarative - defining the what rather than the how.

Unfortunately, to accomodate for port collisions on end-to-end test, we've long adjusted our generated ci script to look like this:

```yml
- run: npx nx affected -t lint test build
- run: npx nx affected --parallel 1 -t e2e-ci
```

This is unfortunately more imperative, as we are starting to give instructions on how to run and order your CI, rather than defining what to run in our CI. In addition, these instructions will still run `lint`, `test`, and `build` targets first and wait until they all complete before then running `e2e-ci` - which leaves some inefficiencies on the table.

To address this, all tasks now support a `parallelism` property. By setting this property to `false`, you can now inform the Nx task runner to not attempt to run a certain task in parallel. This way we can define parallelism as a property of a task, and move our task running to be more declarative again.

Both our `@nx/playwright` and `@nx/cypress` plugins will now set `targetDefaults` for atomized tests to turn off `parallelism` from now on:

```json
{
  // ...
  "targetDefaults": {
    "e2e-**/*": {
      // ...
      "parallelism": false
    }
  }
}
```

This way we can simply run the command:

```shell
> nx run-many --targets=lint,test,e2e-ci,build
```

And in CI, Nx Agents will allow all tasks to run in parallel on the same machine, except for the atomized end-to-end tasks, which will only run in isolation.

Learn more about how you can [Parallelize Tasks Across Multiple Machines Using Nx Agents](/ci/intro/tutorials/github-actions#parallelize-tasks-across-multiple-machines-using-nx-agents):

{% youtube
src="https://youtu.be/0YxcxIR7QU0"
title="Faster e2e Tests!"
width="100%" /%}

## Support For Incremental Builds For Vite

Nx now supports incremental builds with our [`vite` plugin](/nx-api/vite). Incremental builds in Nx workspaces allow you to build any package in your workspace individually, and will then automatically use that built artifact when then building any project or application that consumes the package.This way you can speed up your build and CI times through optimizations like [only building packages that were affected](/nx-api/nx/documents/affected), using [Nx Replay](/ci/features/remote-cache) to effortlessly cache and share your built artifacts, and allowing you to run builds of your various packages in parallel using [Nx Agents](/ci/features/distribute-task-execution).

Read more about [buildable libraries and incremental builds](/concepts/buildable-and-publishable-libraries).

## Project Crystal Conversion Generators

Since launching [Nx Project Crystal](/concepts/inferred-tasks) in Nx version 18, we've adjusted our generators to leverage these features when creating new workspaces and projects. We've now added the `convert-to-inferred` generator to give you an automated way to opt into project crystal.

To run the generator, you can run the command:

```shell
npx nx g convert-to-inferred
```

The important thing to note here is that while this generator will make adjustments to the `project.json` file of the projects your convert, the behavior of your tasks should remain the same. You can see project details via the [Nx Console]() plugin of your IDE, or in a browser by running the command: `nx show project [projectName]`.

In Nx 19, we were focused on adding `convert-to-inferred` to our playwright, cypress, and eslint plugins - where bringing the Nx Atomizer provided the greatest value. Since then, we've added this generator to most other plugins. Currently, our React native plugins (react native, expo, detox) are the only plugins that are outstanding, and we'll be providing `convert-to-inferred` generators here in the near future.

## Gradle Composite Builds Support

Nx 19.0 brought support for Gradle via our [gradle plugin](/nx-api/gradle). This plugin now includes support for [Gradle Composite builds](https://docs.gradle.org/current/userguide/composite_builds.html) in addition to multi-project builds.

Many gradle projects leverage this feature for larger workspaces, and you can now use Nx for these workspaces. Nx will now use this information to inform the Nx Task Graph, for example with the following `settings.gradle.kts` file:

```kotlin
rootProject.name = "app"

includeBuild("number-utils")
includeBuild("string-utils")
```

Nx will be able to determine the dependencies between the `app` and the `number-utils` and `string-utils` workspaces:

![Gradle Composite Project Dep Graph](/blog/images/2024-08-01/gradle-composite-dep-graph.jpg)

You can read more on composite builds in the [Gradle documentation](https://docs.gradle.org/current/userguide/composite_builds.html).

## Experimental: Gradle Test Atomization

Our new [`@nx/gradle` plugin](/nx-api/gradle) now supports Test Atomization out of the box.

![Gradle Atomized](/blog/images/2024-08-01/gradle-atomized.jpg)

This means that as you add tests in your gradle projects, we'll automatically create a new task for each test class, allowing you to distribute the execution of these tasks in your CI pipeline, just like with our `@nx/playwright` and `@nx/cypress` plugins.

## Experimental: Nx Release Adds Version Plans Support

We've added experimental support for a new way for you and your team to coordinate version plans when publishing packages using Nx Release.

[Nx release](/nx-api/nx/documents/release) now supports [version plans](https://github.com/nrwl/nx/pull/23190) which will allow developers to specify whether the work they've done would qualify as a `major`/`minor`/`patch`/etc. as well as providing a changelog message for their work:

![Nx Release Plan Command](/blog/images/2024-08-01/nx-release-plan-command.jpg)

This will create a git-tracked file on the developer's file system that will be committed with their work.

When your team is ready to release, you can now simply run the command `nx release` and nx will use this information to determine the resulting version as part of the release sequence of versioning, creating changelogs, and publishing. (You can also run the command `nx release version` if all you want to do is update the version!)

![Nx Release With Plans](/blog/images/2024-08-01/nx-release-with-plans.jpg)

This feature is still experimental, but we are iterating with this with some of our larger clients and partners in the open source community, and the results are promising. For more on Nx release, checkout our [Getting Started with Nx Release recipe](/recipes/nx-release/get-started-with-nx-release).

## Support for React 19 (rc) and Angular 18.1

Nx 19.5 adds support for the React 19 release candidate and updated our Angular package to support the latest Angular minor version: 18.1.

When using our `@nx/angular` package, we'll automatically update you to the latest angular version when you run our migration. Using the `--interactive` flag you can choose to opt in or out of the latest Angular version:

```shell
> nx migrate latest --interactive
✔ Do you want to update to TypeScript v5.5? (Y/n) · true
✔ Do you want to update the Angular version to v18.1? (Y/n) · true
Fetching @angular/core@18.1.2

 NX   The migrate command has run successfully.
```

Our `@nx/react` package will now create new React applications using version 18.3, and we now support the new experimental `reactCompiler`. Users can install the [`babel-plugin-react-compiler` package](https://www.npmjs.com/package/babel-plugin-react-compiler) and you can follow [this guide for how to enable it with Nx](/recipes/react/react-compiler#react-compiler-with-nx).

Note that due to the extent of breaking changes coming with React 19, we will not be providing a automated migration to React 19 via [`nx migrate`](/nx-api/nx/documents/migrate).

## Automatically Update Nx

As always - updating Nx and its plugins is easy as we ship an [automated migration command](/features/automate-updating-dependencies).

```shell
npx nx migrate latest
```

After updating your dependencies, run any necessary migrations.

```shell
npx nx migrate --run-migrations
```

## Monorepo World Conference Speakers Announced!!

[![Monorepo World](/blog/images/2024-08-01/monorepo-world.jpg)](https://monorepo.world)

The [Monorepo World conference](https://monorepo.world) is coming up soon on October 7, 2024 at the Computer History museum in Mountain View, California.

[Get your tickets now](https://ti.to/nx-conf/monorepoworld2024), consider [requesting access to the invite-only Enterprise Summit on October 8](https://ti.to/nx-conf/monorepoworld2024), and be sure to check out our [list of speakers](https://monorepo.world/#speakers-title) that was just published!

## Learn more

- [Nx Docs](/getting-started/intro)
- [X/Twitter](https://twitter.com/nxdevtools) -- [LinkedIn](https://www.linkedin.com/company/nrwl/)
- [Nx GitHub](https://github.com/nrwl/nx)
- [Nx Official Discord Server](https://go.nx.dev/community)
- [Nx Youtube Channel](https://www.youtube.com/@nxdevtools)
- [Speed up your CI](https://nx.app/)
