---
title: 'Nx 19.5: StackBlitz, New Features, And More!!'
slug: 'nx-19-5-adds-stackblitz-new-features-and-more'
authors: ['Zack DeRose']
cover_image: '/blog/images/2024-07-25/nx-19-5-thumbnail.png'
tags: [nx, release]
---

## Table of Contents

In this blog post:

- [StackBlitz Support](#stackblitz-support)
- [NEW: Pattern Support for `targetDefaults`](#new-pattern-support-for-targetdefaults)
- [NEW: Individual Targets Can Now Opt Out of Parallelism](#new-individual-targets-can-now-opt-out-of-parallelism)
- [Experimental: Gradle Test Atomization](#experimental-gradle-test-atomization)
- [Support for React 19 (rc) and Angular 18.1](#support-for-react-19-rc-and-angular-181)
- [NEW: Nx Cloud Hobby Tier](#new-nx-cloud-hobby-tier)
- [Automatically Update Nx](#automatically-update-nx)
- [Monorepo World Conference Speakers Announced!!](#monorepo-world-conference-speakers-announced)

## StackBlitz Support!!

Nx now has support for Stackblitz. This means that you can create a StackBlitz with a whole Nx Workspace inside of it and run all Nx capabilities from their embedded terminal.

[![Nx Workspace in Stackblitz](/blog/images/2024-07-25/react-app-in-stackblitz.jpg)](https://stackblitz.com/edit/stackblitz-webcontainer-api-starter-cwruaw?file=apps%2Freact-app%2Fsrc%2Fapp%2Fapp.tsx)

[Check out the example](https://stackblitz.com/edit/stackblitz-webcontainer-api-starter-cwruaw?file=apps%2Freact-app%2Fsrc%2Fapp%2Fapp.tsx) above - you can use the standard command in the terminal:

```shell
> nx serve react-app
```

to develop your application inside of the stackblitz.

We're excited for this as it opens up many interesting use-cases, including easier ways of sharing examples, better opportunities for reproduction of issues or bugs, and potential for us to use embedded examples in our documentation in the future.

Web Assembly (or WASM) is the underlying technology being used here, so in addition to stackblitz any other tools built on a node context should now work as well.

Sending a special shout out to community contributor [LongYinan](https://github.com/Brooooooklyn) for [their work to help support this effort](https://github.com/nrwl/nx/pull/22870)!

## Bun Support!!

Nx now supports [Bun as a package manager](https://bun.sh/docs/cli/install)! This means that you can now use bun like you would use npm, pnpm, or yarn to install and manage your dependencies, and Nx will be able to correctly determine understand those dependencies as `externalNodes` in the Nx dependency graph.

Sending a big thank you to community contributor [Jordan Hall](https://github.com/Jordan-Hall) for completing [this work](https://github.com/nrwl/nx/pull/22602).

## Pnpm v9 support

In addition to supporting Bun, Nx now supports the latest version of [`pnpm`](https://pnpm.io/) version 9. Nx has supported both pnpm as a package manager as well as support for [pnpm workspaces](https://pnpm.io/workspaces) for awhile now, however when pnpm version 9 was released, this came with changes to their lock file format, which Nx needs to understand in order to correctly create its dependency graph.

We've now [added support for reading this new format](https://github.com/nrwl/nx/pull/22906), which allows you to use pnpm v9 in your Nx workspaces!

## Support For Incremental Builds for Vite

Nx now supports incremental builds with our [`vite` plugin](/nx-api/vite). Incremental builds in Nx workspaces allow you to build any package in your workspace individually, and will then automatically use that built artifact when then building any project or application that consumes the package. This way you can speed up your build and CI times through optimizations like [only building packages that were affected](/nx-api/nx/documents/affected), using [Nx Replay](/ci/features/remote-cache) to effortlessly cache and share your built artifacts, and allowing you to run builds of your various packages in parallel using [Nx Agents](/ci/features/distribute-task-execution).

Read more about [buildable libraries and incremental builds](/concepts/buildable-and-publishable-libraries).
https://github.com/nrwl/nx/pull/23908

## Nx Release Adds Version Plans Support

[Nx release](/nx-api/nx/documents/release) now supports [version plans](https://github.com/nrwl/nx/pull/23190) which will allow developers to specify whether the work they've done would qualify as a `major`/`minor`/`patch`/etc. as well as providing a changelog message for their work:

[image of `nx release plan`]

This will create a git-tracked file on the developer's file system that will be committed with their work.

When your team is ready to release, you can now simply run the command `nx release` and nx will use this information to determine the resulting version as part of the release sequence of versioning, creating changelogs, and publishing. (You can also run the command `nx release version` if all you want to do is update the version!)

[image of nx version]

For more on Nx release, checkout our [Getting Started with Nx Release recipe](/recipes/nx-release/get-started-with-nx-release).

## Project Detail View Enhancements

We've added several enhancements to the project detail view - which available both in the [Nx Console IDE plugin]() or via a browser by running the command: `nx show project [projectName]`.

For one, we've added more instructions on how to discover options for the underlying tools, and included examples on how to adjust these options via your `project.json` file.

[image showing options]

We've also added visualizations for tags to the project detail view:

[image highlighting tags]

In addition, we've added callout for tasks that leverage the `Nx Atomizer`. Since atomizer tasks are designed to be used with [Nx Agents](/ci/features/distribute-task-execution#distribute-task-execution-nx-agents), this callout will appear with a warning yellow color if your project is not yet connected to Nx Cloud, and you can click on this callout for an easy way to connect your workspace to Nx Cloud:

[image showing atomizer callout and connect to nx cloud button]

Clicking on this button will take you to the Nx Cloud dashboard, where you'll be able to connect your Github workspace to Nx Cloud. This will generate a PR that you can merge into your repo, connecting your repo with Nx Cloud.

[image of onboarding screen]

After connecting to Nx Cloud, we'll also provide a message for you if [Nx Agents](/ci/features/distribute-task-execution#distribute-task-execution-nx-agents) are not turned on for your project yet. Note that our new [hobby tier for Nx Cloud](#new-nx-cloud-hobby-tier) includes free trial credits for Nx Agents so any Nx workspace can benefit from this enhancement!

## Gradle Composite Builds Support

Nx 19.0 brought support for Gradle via our [gradle plugin](/nx-api/gradle). This plugin now includes support for [Gradle Composite builds](https://docs.gradle.org/current/userguide/composite_builds.html) in addition to multi-project builds.

You can read more on composite builds in the [Gradle documentation](https://docs.gradle.org/current/userguide/composite_builds.html), but it is essentially a way for you to `includeBuild` of another project or utility package as part of that build. Nx will now use this information to inform the Nx Task Graph

```kotlin
rootProject.name = "app"

includeBuild("number-utils")
includeBuild("string-utils")
```

[image from PR of nx task graph]

## Local Flaky Task Detection

Nx now supports local flaky task detection. To demonstrate this, consider this flaky test:

```ts
test('my flaky test', () => {
  expect(Math.random()).toBeGreaterThan(0.5);
});
```

Because `Math.random()` is going to return a random value between 0 and 1, we can expect this test to fail half of the time, and succeed the other half.

When you use Nx to run this command, for example by running:

```shell
nx test my-package
```

Nx will track your source code and external dependencies, and can determine if you ever run the same task on the same code and get a different result - which signals that your task is flaky - and Nx will now provide feedback when it determines a flaky task.

[image showing flaky test output]

## Project Crystal Conversion Generators

Since launching [Nx Project Crystal](/concepts/inferred-tasks) in Nx version 18, we've adjusted our generators to leverage these features when creating new workspaces and projects. We've now added the `convert-to-inferred` generator to give you an automated way to opt into project crystal.

To run the generator, you can run the command:

```shell
npx nx g convert-to-inferred
```

The important thing to note here is that while this generator will make adjustments to the `project.json` file of the projects your convert, the computed project details should remain the same. You can see project details via the [Nx Console]() plugin of your IDE, or in a browser by running the command: `nx show project [projectName]`.

Take for example this example project before running the `convert-to-inferred` generator:

[before image]

And after:

[after image]

## NEW: Pattern Support for `targetDefaults`

When using the Atomizer features of plugins like [`@nx/playwright`](/nx-api/playwright) and [`@nx/cypress`](/nx-api/cypress), you end up creating tasks with dynamic but predictable names.

![Tasks Created With Atomizer](/blog/images/2024-07-25/e2e-task-names.jpg)

Notice how the `e2e-ci--src/example.spec.ts` and `e2e-ci--src/test.spec.ts` tasks here are created by the `@nx/playwright` plugin based on the playwright spec files present in your workspace.

We've now added pattern matching to `targetDefaults` task names as a way to target these dynamic tasks.

The following will set all such tasks to depend on their `build` task:

```json
{
  "targetDefaults": {
    "e2e-ci--**/*": {
      "dependsOn": ["build"]
    }
  }
}
```

Note that our plugins will set sensible configurations here out of the box when creating new workspaces using our generators.

Read more about [reducing configuration with `targetDefaults`](/recipes/running-tasks/reduce-repetitive-configuration#reduce-configuration-with-targetdefaults) and [how you can define task pipelines with `targetDefaults`](/features/run-tasks#defining-a-task-pipeline).

## NEW: Individual Targets Can Now Opt Out of Parallelism

One of our goals in changing the landscape of CI is to make CI more declarative - defining the what rather than the how.

Unfortunately, to accomodate for port collisions on end-to-end test, we've long adjusted our generated ci script to look like this:

```yml
- run: npx nx affected -t lint test build
- run: npx nx affected --parallel 1 -t e2e-ci
```

This is unfortunately more imperative, as we are starting to give instructions on how to run and order your CI, rather than defining what to run in our CI. In addition, these instructions will still run `lint`, `test`, and `build` targets first and wait until they all complete before then running `e2e-ci` - which leaves some inefficiencies on the table.

To address this, all tasks now support a `parallelism` property. By setting this property to `false`, you can now inform the Nx task runner to not attempt to run a certain task in parallel. This way we can define parallelism as a property of a task, and move our task running to be more declarative again.

Both our `@nx/playwright` and `@nx/cypress` plugins will now set `targetDefaults` for atomized tests to turn off `parallelism` from now on:

```json
{
  // ...
  "targetDefaults": {
    "e2e-**/*": {
      // ...
      "parallelism": false
    }
  }
}
```

This way we can simply run the command:

```shell
> nx run-many --targets=lint,test,e2e-ci,build
```

And in CI, Nx Agents will allow all tasks to run in parallel on the same machine, except for the atomized end-to-end tasks, which will only run in isolation.

Learn more about how you can [Parallelize Tasks Across Multiple Machines Using Nx Agents](/ci/intro/tutorials/github-actions#parallelize-tasks-across-multiple-machines-using-nx-agents):

{% youtube
src="https://youtu.be/0YxcxIR7QU0"
title="Faster e2e Tests!"
width="100%" /%}

## Experimental: Gradle Test Atomization

Our new [`@nx/gradle` plugin](/nx-api/gradle) now supports Test Atomization out of the box.

![Gradle Atomized](/blog/images/2024-07-25/gradle-atomized.jpg)

This means that as you add tests in your gradle projects, we'll automatically create a new task for each test class, allowing you to distribute the execution of these tasks in your CI pipeline, just like with our `@nx/playwright` and `@nx/cypress` plugins.

## Support for React 19 (rc) and Angular 18.1

Nx 19.5 adds support for the React 19 release candidate and updated our Angular package to support the latest Angular minor version: 18.1.

When using our `@nx/angular` package, we'll automatically update you to the latest angular version when you run our migration. Using the `--interactive` flag you can choose to opt in or out of the latest Angular version:

```shell
> nx migrate latest --interactive
✔ Do you want to update to TypeScript v5.5? (Y/n) · true
✔ Do you want to update the Angular version to v18.1? (Y/n) · true
Fetching @angular/core@18.1.2

 NX   The migrate command has run successfully.
```

Our `@nx/react` package will now create new React applications using version 18.3, and we now support the new experimental `reactCompiler`. Users can install the [`babel-plugin-react-compiler` package](https://www.npmjs.com/package/babel-plugin-react-compiler) and you can follow [this guide for how to enable it with Nx](/recipes/react/react-compiler#react-compiler-with-nx).

Note that due to the extent of breaking changes coming with React 19, we will not be providing a automated migration to React 19 via [`nx migrate`](/nx-api/nx/documents/migrate).

## Automatically Update Nx

As always - updating Nx and its plugins is easy as we ship an [automated migration command](/features/automate-updating-dependencies).

```shell
npx nx migrate latest
```

After updating your dependencies, run any necessary migrations.

```shell
npx nx migrate --run-migrations
```

## NEW: Nx Cloud Hobby Tier

Our new expanded Hobby Tier now adds trial support for all features AND includes credits to run Nx Agents.

Sample the entire suite of features to see its impact on your organization. Start with everything, scale when you need more.

[![Nx Cloud Tiers](/blog/images/2024-07-25/start-with-everything-scale-when-you-need.jpg)](/pricing#plan-details)

Checkout the [plan details page](/pricing#plan-details) for more info, and see how Nx Cloud can help you!

## Monorepo World Conference Speakers Announced!!

[![Monorepo World](/blog/images/2024-07-25/monorepo-world.jpg)](https://monorepo.world)

The [Monorepo World conference](https://monorepo.world) is coming up soon on October 7, 2024 at the Computer History museum in Mountain View, California.

[Get your tickets now](https://ti.to/nx-conf/monorepoworld2024), consider [requesting access to the invite-only Enterprise Summit on October 8](https://ti.to/nx-conf/monorepoworld2024), and be sure to check out our [list of speakers](https://monorepo.world/#speakers-title) that was just published!

## Learn more

- [Nx Docs](/getting-started/intro)
- [X/Twitter](https://twitter.com/nxdevtools) -- [LinkedIn](https://www.linkedin.com/company/nrwl/)
- [Nx GitHub](https://github.com/nrwl/nx)
- [Nx Official Discord Server](https://go.nx.dev/community)
- [Nx Youtube Channel](https://www.youtube.com/@nxdevtools)
- [Speed up your CI](https://nx.app/)
