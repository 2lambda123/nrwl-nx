import { ensureNxProject, uniq, expectTestsPass, runNxCommandAsync } from '@nrwl/nx-plugin/testing';
describe('<%= pluginName %> e2e', () => {
    it('should create <%= pluginName %>', async (done) => {
        const plugin = uniq('<%= pluginName %>');
        ensureNxProject('<%= npmPackageName %>', '<%= pluginOutputPath %>');
        await runNxCommandAsync(`generate <%=npmPackageName%>:<%= pluginPropertyName %> ${plugin}`);
        const result = await runNxCommandAsync(`build ${plugin}`);
        expect(result.stdout).toContain('Builder ran')
        done();
    })
})